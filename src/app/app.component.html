<div class="p-5">

  <div #searchBox>
    <div class="input-group">
      <input #searchInput
             type="text"
             class="form-control form-control-lg"
             placeholder="책 제목을 입력하세요."
             [value]="searchWord"
             (keyup)="search(searchInput.value)">
      <button type="button"
              class="btn btn-outline-secondary"
              (click)="resetSearch()">
        X
      </button>
    </div>
    <ul class="row no-gutters p-0">
      <li class="col-2 list-unstyled"
          *ngFor="let book of books"
          (click)="onCreateNote(book)">
        <img *ngIf="book.thumbnail"
             class="w-100"
             src="{{ book.thumbnail }}">
        <span *ngIf="!book.thumbnail" class="">
          {{ book.title }} /
          {{ book.publisher }} /
          {{ book.isbn }}
        </span>
      </li>
    </ul>
  </div>

  <form class="mt-5" [formGroup]="createForm" *ngIf="note">
    <h1>Add reading-note</h1>
    <div class="form-group row">
      <label class="col-3">책제목</label>
      <input formControlName="title" class="col-9 form-control" type="text" value="{{ note['title'] }}"/>
    </div>
    <!--    <div class="form-group row">-->
    <!--      <label class="col-3">장르</label>-->
    <!--      <input class="col-9" type="text"/>-->
    <!--    </div>-->
    <div class="form-group row">
      <label class="col-3">점수</label>
      <input formControlName="score" class="col-9 form-control" type="number" min="0" max="5" value=""/>
    </div>
    <div class="form-group row">
      <label class="col-3">한줄감상</label>
      <input formControlName="oneLineReviews" class="col-9 form-control" type="text" value=""/>
    </div>
    <div class="form-group row">
      <label class="col-3">읽은날짜</label>
      <input formControlName="readDate" class="col-9 form-control" type="date" value=""/>
    </div>
    <div class="form-group row">
      <label class="col-3">마음에드는문구</label>
      <div class="col-9 pl-0 pr-0" formArrayName="favoritePhrases">
        <div class="form-group input-group" *ngFor="let favoriteParse of favoriteParses.controls; let i = index">
          <input class="form-control" type="text" [formControlName]="i"/>
          <div class="input-group-append">
            <button *ngIf="favoriteParses.controls.length - 1 === i" class="btn btn-outline-secondary" (click)="addFavoriteParses()">+</button>
            <button *ngIf="favoriteParses.controls.length - 1 !== i"  class="btn btn-outline-secondary" (click)="removeFavoriteParses(i)">-</button>
          </div>
        </div>
      </div>
    </div>

    <div class="text-center">
      <button class="btn btn-primary mr-1" type="button" (click)="onSave()">등록하기</button>
      <button class="btn btn-primary">취소</button>
    </div>
  </form>

</div>
